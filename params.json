{"name":"Thingz.io","tagline":"Thingz understood","body":"# Vision of smarter thingz; project in adaptive metric flow modeling\r\n\r\nOver the holidays, as many of us do, I embarked on a little extra-curriculum development effort I called [thingz.io](thingz.io). I was driven by the pattern I'd observed in Data Center (DC) monitoring products; although that pattern also exists in many of today's Internet of Things (IoT) solutions. \r\n\r\nI refer to this pattern as `Forensic Understanding`. In simplest terms it implies that in order to understand (derive any value) out of monitoring data we must first persist that data; load it into a priory-defined model, probably in some kind of database. This approach is often driven by the use of traditional BI tools to \"understand\" these metric in a context of an entire volume.\r\n\r\nThere are two fundamental weaknesses in this approach though:\r\n\r\n1. It requires design-time model definition (understanding of the questions one will be asking) and designing the underlying persistence to optimize for that usage model \r\n2. and, it often requires interactive analysis. As the number of \"things\" we monitor grows the volume of data that needs to be analyzed increases\r\n \r\n![](http://media.tumblr.com/f9c4aebe50d8ed97cb99fd2ea31bbf37/tumblr_inline_nhs2gbIk8W1rd2h1o.png)\r\n\r\n> Addressing these weaknesses requires a fundamental shift from reports and forensic queries to more adaptive models and dynamic rules.\r\n\r\nAs a result of the after-the-fact nature of this approach, the value of the analyzed data is often realized too late to make any significant impact.\r\n\r\n## Thingz Understood\r\n\r\nTo experiment with an idea I created a couple of GitHub projects: [thingz-agent](https://github.com/mchmarny/thingz-agent) where thingz are measured and [thingz-server](https://github.com/mchmarny/thingz-server) where thingz are understood.\r\n\r\n![](https://raw.githubusercontent.com/mchmarny/thingz-server/master/images/thingz-scaled.png)\r\n\r\n#### [thingz-agent](https://github.com/mchmarny/thingz-agent)\r\n\r\nGenerates streams of system metrics from variety of devices (cpu, memory, swap, load, processes, etc.) based on configurable strategies: report CPU every second but system load every 10 and so forth. To accommodate different deployment scales, `thingz-agent` also supports multiple publishers:\r\n\r\n* **kafka** - queues messages in Kafka\r\n* **influxdb** - publishes to REST or UDP endpoint \r\n* **stdout** - output to console\r\n\r\n#### [thingz-server](https://github.com/mchmarny/thingz-server)\r\n\r\nProcesses the inbound streams and builds dynamic models which identifies portent data (signal) and filter it from the noise. The `thingz-server` can actually close the loop and provide this guidance to the agents to pre-filter that data right at the edge. \r\n\r\nYes, the `thingz-server` also supports forensic queries. And, because it is generic in nature, it doesn't require priory model definition which in turn enables data discovery with fair amount of analytical capabilities while supporting down-sampling to any arbitrary level (e.g. deviation, mean and percentile for all records from specific sources over last hour down-sampled to one minute). \r\n\r\n## Actuation Guidance\r\n\r\nTo support schedulers and other type of actuators, the `thingz-server` also exposes a flexible REST API designed to identify availability across all monitored resources. Here is an example of a query for least utilized resources based on standard deviation in memory over last 10 min.\r\n\r\n`[GET] - /api/v1.0/util/mem/used/10`\r\n\r\nAll in all this was an interesting exercise in understanding the challenges related to dynamic models... even if it got me the occasional look from my wife for \"working\" over holidays ;)\r\n\r\n## Related Links:\r\n\r\n* [Fuzzy Logic Based Feedback Scheduler for Embedded Control Systems](http://rd.springer.com/chapter/10.1007%2F11538356_47)\r\n* [InfluxDB](https://github.com/influxdb/influxdb/) - Scalable datastore for metrics, events, and real-time analytics\r\n* [Go sigar](https://github.com/cloudfoundry/gosigar) - Pure Go implementation of the sigar API.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}